#!/bin/bash
# W25Q128JV Flash Programming Script
# Generated by Flash Composer

FLASH_IMAGE="w25q128jv_complete.bin"

echo "üöÄ Programming W25Q128JV Flash Memory"
echo "===================================="

if [ ! -f "$FLASH_IMAGE" ]; then
    echo "‚ùå Flash image not found: $FLASH_IMAGE"
    exit 1
fi

echo "üìÑ Flash image: $FLASH_IMAGE"
echo "üìè Size: $(stat -f%z "$FLASH_IMAGE" 2>/dev/null || stat -c%s "$FLASH_IMAGE" 2>/dev/null) bytes"
echo

echo "‚ö° Programming complete flash image..."
st-flash write "$FLASH_IMAGE" 0x00000000

if [ $? -eq 0 ]; then
    echo "‚úÖ Flash programming completed successfully!"
else
    echo "‚ùå Flash programming failed!"
    exit 1
fi
